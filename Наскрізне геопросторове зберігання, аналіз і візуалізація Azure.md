Геопросторові дані доступні в різних формах і вимагають широкого спектру можливостей для обробки, аналізу та візуалізації даних. Хоча географічна інформаційна система (ГІС) поширена, вона також значною мірою не є хмарною. Більшість ГІС працюють на робочому столі, що обмежує їх масштаб і продуктивність. Незважаючи на досягнення у переміщенні даних у серверну частину, ці системи залишаються прив’язаними до IaaS, що ускладнює їх масштабування.

У цій статті надано високорівневий підхід до використання нативних можливостей хмари разом із деякими параметрами програмного забезпечення з відкритим кодом і комерційними варіантами. Розглядаються три персони. Персони — це архітектори, які шукають потік високого рівня, не вникаючи в особливості реалізації. Персони включають наступне:

Генеральний геопросторовий архітектор. Цей архітектор шукає засоби для впровадження геопросторових даних, але може не мати досвіду в ГІС або дистанційному зондуванні.
Геопросторовий архітектор OSS. Цей архітектор орієнтований на програмне забезпечення з відкритим вихідним кодом (OSS), але використовує переваги хмари для обчислень і зберігання.
Геопросторовий архітектор COTS. Цей архітектор присвячений COTS, але також використовує переваги хмарних обчислень і зберігання.

### Потенційні варіанти використання

Рішення, надані в цих архітектурах, застосовуються до багатьох випадків використання:

Обробка, зберігання та надання доступу до великих обсягів растрових даних, таких як шари або кліматичні дані.
Об’єднання даних про місцезнаходження об’єктів із систем ERP із довідковими даними ГІС або включення векторних даних, масивів, хмар точок тощо.
Зберігання телеметрії Інтернету речей (IoT) з рухомих пристроїв і аналіз у режимі реального часу або пакетно
Виконання аналітичних геопросторових запитів.
Вбудовування підібраних і контекстуалізованих геопросторових даних у веб-програми.
Обробка даних з дронів, аерофотознімків, супутникових зображень, LiDAR, результатів сіткових моделей тощо.

### Загальна геопросторова архітектура

Azure має багато власних геопросторових можливостей. На цій та наступних діаграмах ви знайдете етапи високого рівня, на яких проходять геопросторові дані. По-перше, у вас є джерело даних, етап прийому, місце, де дані зберігаються, перетворюються, подаються, публікуються та, нарешті, споживаються. Зверніть увагу на піктограму глобуса біля служб із вбудованими геопросторовими можливостями. Крім того, ці діаграми не можна вважати лінійними процесами. Можна почати зі стовпця Transforms, Publish and Consume, а потім створити кілька похідних наборів даних, для чого потрібно повернутися до попереднього стовпця.

![image](https://github.com/SergeyShchus/Spatial-data-engineering/blob/main/image/geospatial-overview.png?raw=true)

Цей потік архітектури передбачає, що дані можуть надходити з баз даних, файлів або потокових джерел і не зберігатися у рідному форматі ГІС. Після отримання даних за допомогою Azure Data Factory або через Azure IoT, Event Hubs і Stream Analytics їх можна постійно зберігати в теплому сховищі за допомогою Azure SQL, Azure SQL Managed Instance, Azure Database for PostgreSQL або Azure Data Lake Storage. Звідти дані можна перетворювати та обробляти пакетно за допомогою Azure Batch або Synapse Spark Pool, обидва з яких можна автоматизувати за допомогою фабрики даних Azure або конвеєра Synapse. Для даних у реальному часі їх можна додатково трансформувати або обробити за допомогою Stream Analytics, Azure Maps або привести в контекст за допомогою Azure Digital Twins. Після перетворення даних їх можна знову використати для додаткового використання в Azure SQL DB або Azure Database для PostgreSQL, Synapse SQL Pool (для абстрактних негеопросторових даних), Azure Cosmos DB або Azure Data Explorer. Після готовності дані можна запитувати безпосередньо через API бази даних, але часто використовується рівень публікації. API даних Azure Maps буде достатнім для невеликих наборів даних, інакше можна запровадити нерідну службу на основі OSS або COTS для доступу до даних через веб-служби або настільні програми. Нарешті, веб-пакет SDK для карт Azure, розміщений у службі додатків Azure, дозволить здійснювати геовізуалізацію. Іншим варіантом є використання Azure Maps у Power BI. Нарешті, HoloLens і Azure Spatial Anchors можна використовувати для перегляду даних і розміщення їх у реальному світі для віртуальної реальності (VR) і доповненої реальності (AR).

Слід також зазначити, що багато з цих опцій є необов’язковими та можуть бути доповнені OSS, щоб зменшити витрати, одночасно зберігаючи масштабованість, або сторонніми інструментами для використання їхніх конкретних можливостей. Наступна сесія присвячена цій потребі.
